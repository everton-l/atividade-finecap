{% extends 'base.html' %}

{% block center %}
  <h2> Lista de Reservas</h2>

  <a href="{% url 'reserva_criar' %}" class="btn btn-success mb-3">Novo Cadastro</a>


  <form method="get" action="">
    <input type="search" name="nome_empresa" placeholder="Nome da empresa">
    <input type="number" name="valor_stand" placeholder="Valor do Stand">
    <input type="date" name="data" placeholder="Data da Reserva">
    <label for="quitado_sim">Sim</label>
    <input type="radio" name="quitado" value="True" id="quitado_sim">
    <label for="quitado_nao">Não</label>
    <input type="radio" name="quitado" value="False" id="quitado_nao">

    <button type="submit" class="btn btn-success">Filtrar</button>
    <a href="{% url 'index' %}" class="btn btn-success">Limpar</a>
  </form>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Nome da empresa</th>
        <th>Categoria da empresa</th>
      </tr>
    </thead>
    <tbody>
      {% for reserva in reservas %}  
      <tr>
        <td>{{ reserva.nome_empresa }}</td>
        <td>{{ reserva.categoria_empresa }}</td>
        <td>
          <a href="{% url 'reserva_detalhe' id=reserva.id %}" class="btn btn-primary btn-sm">Detalhar</a>
          <a href="{% url 'reserva_remover' id=reserva.id %}" class="btn btn-danger btn-sm">Remover</a>
        </td>
      </tr>
      {% endfor %}
    
    </tbody>
  </table>

{% if reservas.has_previous or reservas.has_next %}
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        {% if reservas.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ reservas.previous_page_number }}">Anterior</a></li>
        {% endif %}
        <li class="page-item"><a class="page-link" href="?page=1">1</a></li>
        <li class="page-item"><a class="page-link" href="?page=2">2</a></li>
        <li class="page-item"><a class="page-link" href="?page=3">3</a></li>
        {% if reservas.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ reservas.next_page_number }}">Próxima</a></li>
        {% endif %}
      </ul>
    </nav>
{% endif %}
{% endblock %}